<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Score metrics — metric.scores • BioMonTools</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Score metrics — metric.scores" />
<meta property="og:description" content="This function calculates metric scores based on a Thresholds data frame.
Can generate scores for categories n=3 (e.g., 1/3/5, ScoreRegime=&quot;Cat_135&quot;)
or n=4 (e.g., 0/2/4/6, ScoreRegime=&quot;Cat_0246&quot;)
or continuous (e.g., 0-100, ScoreRegime=&quot;Cont_0100&quot;)." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">BioMonTools</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.5.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/vignette_BioMonTools.html">Vignette, BioMonTools</a>
    </li>
    <li>
      <a href="../articles/vignette_MapTaxaObs.html">Vignette, Taxa Maps</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/leppott/BioMonTools/">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Score metrics</h1>
    <small class="dont-index">Source: <a href='https://github.com/leppott/BioMonTools/blob/master/R/metric.scores.R'><code>R/metric.scores.R</code></a></small>
    <div class="hidden name"><code>metric.scores.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>This function calculates metric scores based on a Thresholds data frame.
Can generate scores for categories n=3 (e.g., 1/3/5, ScoreRegime="Cat_135")
or n=4 (e.g., 0/2/4/6, ScoreRegime="Cat_0246")
or continuous (e.g., 0-100, ScoreRegime="Cont_0100").</p>
    </div>

    <pre class="usage"><span class='fu'>metric.scores</span>(
  <span class='no'>DF_Metrics</span>,
  <span class='no'>col_MetricNames</span>,
  <span class='no'>col_IndexName</span>,
  <span class='no'>col_IndexRegion</span>,
  <span class='no'>DF_Thresh_Metric</span>,
  <span class='no'>DF_Thresh_Index</span>,
  <span class='kw'>col_ni_total</span> <span class='kw'>=</span> <span class='st'>"ni_total"</span>
)</pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>DF_Metrics</th>
      <td><p>Data frame of metric values (as columns), Index Name, and
Index Region (strata).</p></td>
    </tr>
    <tr>
      <th>col_MetricNames</th>
      <td><p>Names of columns of metric values.</p></td>
    </tr>
    <tr>
      <th>col_IndexName</th>
      <td><p>Name of column with index (e.g., MBSS.2005.Bugs)</p></td>
    </tr>
    <tr>
      <th>col_IndexRegion</th>
      <td><p>Name of column with relevant bioregion or site class
(e.g., COASTAL).</p></td>
    </tr>
    <tr>
      <th>DF_Thresh_Metric</th>
      <td><p>Data frame of Scoring Thresholds for metrics (INDEX_NAME, INDEX_REGION,
METRIC_NAME, Direction, Thresh_Lo, Thresh_Mid, Thresh_Hi, ScoreRegime
, SingleValue_Add, NormDist_Tail_Lo, NormDist_Tail_Hi, CatGrad_xvar, CatGrad_InfPt
, CatGrad_Lo_m,    CatGrad_Lo_b,    CatGrad_Mid_m,    CatGrad_Mid_b,    CatGrad_Hi_m,    CatGrad_Hi_b).</p></td>
    </tr>
    <tr>
      <th>DF_Thresh_Index</th>
      <td><p>Data frame of Scoring Thresholds for indices (INDEX_NAME, INDEX_REGION,
METRIC_NAME, ScoreRegime, Thresh01, Thresh02, Thresh03, Thresh04, Thresh05, Thresh06, Thresh07
, Nar01, Nar02, Nar03, Nar04, Nar05, Nar06).</p></td>
    </tr>
    <tr>
      <th>col_ni_total</th>
      <td><p>Name of column with total number of individuals.  Used
for cases where sample was collected but no organisms collected.  Default = ni_total.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>vector of scores</p>
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>The R library dplyr is needed for this function.</p>
<p>ScoreRegime for metrics is as above.  ScoreRegime for an index is "SUM" or "AVERAGE".
That is, for SUM all metric scores are added together.  For AVERAGE all metric scores are averaged.
In both cases a "sum_Index" field will be computed.</p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='co'># Example data</span>

<span class='fu'><a href='https://rdrr.io/r/base/library.html'>library</a></span>(<span class='no'>readxl</span>)
<span class='fu'><a href='https://rdrr.io/r/base/library.html'>library</a></span>(<span class='no'>reshape2</span>)

<span class='co'># Thresholds</span>
<span class='no'>fn_thresh</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/file.path.html'>file.path</a></span>(<span class='fu'><a href='https://rdrr.io/r/base/system.file.html'>system.file</a></span>(<span class='kw'>package</span><span class='kw'>=</span><span class='st'>"BioMonTools"</span>), <span class='st'>"extdata"</span>, <span class='st'>"MetricScoring.xlsx"</span>)
<span class='no'>df_thresh_metric</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://readxl.tidyverse.org/reference/read_excel.html'>read_excel</a></span>(<span class='no'>fn_thresh</span>, <span class='kw'>sheet</span><span class='kw'>=</span><span class='st'>"metric.scoring"</span>)
<span class='no'>df_thresh_index</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://readxl.tidyverse.org/reference/read_excel.html'>read_excel</a></span>(<span class='no'>fn_thresh</span>, <span class='kw'>sheet</span><span class='kw'>=</span><span class='st'>"index.scoring"</span>)

<span class='co'>#~~~~~~~~~~~~~~~~~~~~~~~~</span>
<span class='co'># Pacific Northwest, BCG Level 1 Indicator Taxa Index</span>
<span class='no'>df_samps_bugs</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://readxl.tidyverse.org/reference/read_excel.html'>read_excel</a></span>(<span class='fu'><a href='https://rdrr.io/r/base/system.file.html'>system.file</a></span>(<span class='st'>"extdata/Data_Benthos.xlsx"</span>
                                        , <span class='kw'>package</span><span class='kw'>=</span><span class='st'>"BioMonTools"</span>)
                            , <span class='kw'>guess_max</span> <span class='kw'>=</span> <span class='fl'>10</span>^<span class='fl'>6</span>)

<span class='no'>myIndex</span> <span class='kw'>&lt;-</span> <span class='st'>"BCG.PacNW.L1"</span>
<span class='no'>df_samps_bugs</span>$<span class='no'>Index_Name</span>   <span class='kw'>&lt;-</span> <span class='no'>myIndex</span>
<span class='no'>df_samps_bugs</span>$<span class='no'>Index_Region</span> <span class='kw'>&lt;-</span> <span class='st'>"ALL"</span>
(<span class='no'>myMetrics.Bugs</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/unique.html'>unique</a></span>(<span class='fu'><a href='https://rdrr.io/r/base/as.data.frame.html'>as.data.frame</a></span>(<span class='no'>df_thresh_metric</span>)[<span class='no'>df_thresh_metric</span>[
                          , <span class='st'>"INDEX_NAME"</span>]<span class='kw'>==</span><span class='no'>myIndex</span>, <span class='st'>"METRIC_NAME"</span>]))</div><div class='output co'>#&gt;  [1] "nt_total"        "nt_EPT"          "nt_BCG_att1i2"   "x_Shan_e"       
#&gt;  [5] "nt_longlived"    "nt_Ephemerellid" "nt_Hepta"        "nt_Nemour"      
#&gt;  [9] "nt_Perlid"       "nt_Rhya"         "nt_ffg_pred"     "nt_noteworthy"  </div><div class='input'><span class='co'># Run Function</span>
<span class='no'>df_metric_values_bugs</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='metric.values.html'>metric.values</a></span>(<span class='no'>df_samps_bugs</span>, <span class='st'>"bugs"</span>
                                       , <span class='kw'>fun.MetricNames</span> <span class='kw'>=</span> <span class='no'>myMetrics.Bugs</span>)

<span class='co'># index to BCG.PacNW.L1</span>
<span class='no'>df_metric_values_bugs</span>$<span class='no'>INDEX_NAME</span> <span class='kw'>&lt;-</span> <span class='no'>myIndex</span>
<span class='no'>df_metric_values_bugs</span>$<span class='no'>INDEX_REGION</span> <span class='kw'>&lt;-</span> <span class='st'>"ALL"</span>

<span class='co'># SCORE Metrics</span>
<span class='no'>df_metric_scores_bugs</span> <span class='kw'>&lt;-</span> <span class='fu'>metric.scores</span>(<span class='no'>df_metric_values_bugs</span>
                                       , <span class='no'>myMetrics.Bugs</span>
                                       , <span class='st'>"INDEX_NAME"</span>
                                       , <span class='st'>"INDEX_REGION"</span>
                                       , <span class='no'>df_thresh_metric</span>
                                       , <span class='no'>df_thresh_index</span>)

<span class='kw'>if</span> (<span class='fl'>FALSE</span>) {
<span class='co'># View Results</span>
<span class='fu'><a href='https://rdrr.io/r/utils/View.html'>View</a></span>(<span class='no'>df_metric_scores_bugs</span>)
}
<span class='co'># QC, table</span>
<span class='fu'><a href='https://rdrr.io/r/base/table.html'>table</a></span>(<span class='no'>df_metric_scores_bugs</span>$<span class='no'>Index</span>, <span class='no'>df_metric_scores_bugs</span>$<span class='no'>Index_Nar</span>)</div><div class='output co'>#&gt;     
#&gt;      Low Medium
#&gt;   0  163      0
#&gt;   1   64      0
#&gt;   2   45      0
#&gt;   3   44      0
#&gt;   4   49      0
#&gt;   5   33      0
#&gt;   6   40      0
#&gt;   7   35      0
#&gt;   8   28      0
#&gt;   9   27      0
#&gt;   10  32      0
#&gt;   11  19      0
#&gt;   12  23      0
#&gt;   13  10      0
#&gt;   14  14      0
#&gt;   15  17      0
#&gt;   16  11      0
#&gt;   17   6      0
#&gt;   18   4      0
#&gt;   19   3      0
#&gt;   20   0      4
#&gt;   21   0      1
#&gt;   23   0      2
#&gt;   24   0      2
#&gt;   27   0      2</div><div class='input'><span class='co'># QC, plot</span>
<span class='fu'><a href='https://rdrr.io/r/graphics/hist.html'>hist</a></span>(<span class='no'>df_metric_scores_bugs</span>$<span class='no'>Index</span>, <span class='kw'>main</span><span class='kw'>=</span><span class='st'>"PacNW BCG Example Data"</span>
     , <span class='kw'>xlab</span><span class='kw'>=</span><span class='st'>"Level 1 Indicator Taxa Index Score"</span>)</div><div class='input'><span class='fu'><a href='https://rdrr.io/r/graphics/abline.html'>abline</a></span>(<span class='kw'>v</span><span class='kw'>=</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='fl'>21</span>,<span class='fl'>30</span>), <span class='kw'>col</span><span class='kw'>=</span><span class='st'>"blue"</span>)</div><div class='input'><span class='fu'><a href='https://rdrr.io/r/graphics/text.html'>text</a></span>(<span class='fl'>21</span>+<span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(-<span class='fl'>2</span>,+<span class='fl'>2</span>), <span class='fl'>200</span>, <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>"Low"</span>,<span class='st'>"Medium"</span>), <span class='kw'>col</span><span class='kw'>=</span><span class='st'>"blue"</span>)</div><div class='img'><img src='metric.scores-1.png' alt='' width='700' height='433' /></div><div class='input'>
<span class='co'>#~~~~~~~~~~~~~~~~~~~~~~~~</span>
<span class='co'># Metrics, Index, Benthic Macroinvertebrates, genus</span>
<span class='co'># (generate values then scores)</span>
<span class='no'>myIndex</span> <span class='kw'>&lt;-</span> <span class='st'>"MBSS.2005.Bugs"</span>
<span class='co'># Thresholds</span>
<span class='co'># imported above</span>
<span class='co'># get metric names for myIndex</span>
(<span class='no'>myMetrics.Bugs.MBSS</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/unique.html'>unique</a></span>(<span class='no'>df_thresh_metric</span>[<span class='no'>df_thresh_metric</span>[, <span class='st'>"INDEX_NAME"</span>] <span class='kw'>==</span> <span class='no'>myIndex</span>, <span class='st'>"METRIC_NAME"</span>, <span class='fl'>TRUE</span>]))</div><div class='output co'>#&gt;  [1] "nt_total"       "nt_EPT"         "nt_Ephem"       "pi_tv2_intol"  
#&gt;  [5] "pi_Ephem"       "nt_ffg_scrap"   "pi_habit_climb" "pi_Chiro"      
#&gt;  [9] "pi_habit_cling" "pi_Tanyt"       "pi_ffg_scrap"   "pi_habit_swim" 
#&gt; [13] "pi_Dipt"       </div><div class='input'><span class='co'># Taxa Data</span>
<span class='no'>myDF.Bugs.MBSS</span> <span class='kw'>&lt;-</span> <span class='kw pkg'>MBSStools</span><span class='kw ns'>::</span><span class='no'><a href='https://rdrr.io/pkg/MBSStools/man/taxa_bugs_genus.html'>taxa_bugs_genus</a></span>
<span class='no'>myDF.Bugs.MBSS</span>$<span class='no'>NONTARGET</span> <span class='kw'>&lt;-</span> <span class='fl'>FALSE</span>
<span class='no'>myDF.Bugs.MBSS</span>$<span class='no'>INDEX_REGION</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/chartr.html'>toupper</a></span>(<span class='no'>myDF.Bugs.MBSS</span>$<span class='no'>strata_r</span>)
<span class='no'>myDF.Bugs.MBSS</span>$<span class='no'>SAMPLEID</span> <span class='kw'>&lt;-</span> <span class='no'>myDF.Bugs.MBSS</span>$<span class='no'>SITE</span>
<span class='no'>myDF.Bugs.MBSS</span>$<span class='no'>INDEX_NAME</span> <span class='kw'>&lt;-</span> <span class='no'>myDF.Bugs.MBSS</span>$<span class='no'>Index.Name</span>
<span class='no'>myDF.Bugs.MBSS</span>$<span class='no'>TAXAID</span> <span class='kw'>&lt;-</span> <span class='no'>myDF.Bugs.MBSS</span>$<span class='no'>TAXON</span>
<span class='no'>myDF.Bugs.MBSS</span>$<span class='no'>SubPhylum</span> <span class='kw'>&lt;-</span> <span class='fl'>NA</span>
<span class='no'>myDF.Bugs.MBSS</span>$<span class='no'>SubFamily</span> <span class='kw'>&lt;-</span> <span class='fl'>NA</span>
<span class='no'>myDF.Bugs.MBSS</span>$<span class='no'>TOLVAL</span> <span class='kw'>&lt;-</span> <span class='no'>myDF.Bugs.MBSS</span>$<span class='no'>FinalTolVal07</span>
<span class='no'>myDF.Bugs.MBSS</span>$<span class='no'>TOLVAL2</span> <span class='kw'>&lt;-</span> <span class='no'>myDF.Bugs.MBSS</span>$<span class='no'>FinalTolVal08</span>
<span class='no'>myDF.Bugs.MBSS</span>$<span class='no'>EXCLUDE</span> <span class='kw'>&lt;-</span> <span class='no'>myDF.Bugs.MBSS</span>$<span class='no'>EXCLUDE</span><span class='kw'>==</span><span class='st'>"Y"</span>
<span class='no'>myMetric.Values.Bugs.MBSS</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='metric.values.html'>metric.values</a></span>(<span class='no'>myDF.Bugs.MBSS</span>, <span class='st'>"bugs"</span>, <span class='no'>myMetrics.Bugs.MBSS</span>)</div><div class='output co'>#&gt; <span class='warning'>Warning: EXCLUDE column does not have any TRUE values. </span>
#&gt; <span class='warning'>  Valid values are TRUE or FALSE.  </span>
#&gt; <span class='warning'>  Other values are not recognized.</span></div><div class='output co'>#&gt; <span class='error'>Error in `[.data.frame`(myDF, , "LIFE_CYCLE"): undefined columns selected</span></div><div class='input'><span class='co'>#</span>
<span class='kw'>if</span> (<span class='fl'>FALSE</span>) {
<span class='fu'><a href='https://rdrr.io/r/utils/View.html'>View</a></span>(<span class='no'>myMetric.Values.Bugs.MBSS</span>)
}
<span class='co'># SCORE</span>
<span class='no'>myMetric.Values.Bugs.MBSS</span>$<span class='no'>INDEX_REGION</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/chartr.html'>toupper</a></span>(<span class='no'>myMetric.Values.Bugs.MBSS</span>$<span class='no'>INDEX_REGION</span>)</div><div class='output co'>#&gt; <span class='error'>Error in toupper(myMetric.Values.Bugs.MBSS$INDEX_REGION): object 'myMetric.Values.Bugs.MBSS' not found</span></div><div class='input'><span class='no'>Metrics.Bugs.Scores.MBSS</span> <span class='kw'>&lt;-</span> <span class='fu'>metric.scores</span>(<span class='no'>myMetric.Values.Bugs.MBSS</span>
                                          , <span class='no'>myMetrics.Bugs.MBSS</span>
                                          , <span class='st'>"INDEX_NAME"</span>
                                          , <span class='st'>"INDEX_REGION"</span>
                                          , <span class='no'>df_thresh_metric</span>
                                          , <span class='no'>df_thresh_index</span>)</div><div class='output co'>#&gt; <span class='error'>Error in as.data.frame(DF_Metrics): object 'myMetric.Values.Bugs.MBSS' not found</span></div><div class='input'><span class='co'># View Results</span>
<span class='fu'><a href='https://rdrr.io/r/utils/View.html'>View</a></span>(<span class='no'>Metrics.Bugs.Scores.MBSS</span>)</div><div class='output co'>#&gt; <span class='error'>Error in as.data.frame(x): object 'Metrics.Bugs.Scores.MBSS' not found</span></div><div class='input'>
<span class='co'># QC Index Scores and Narratives</span>
<span class='co'># Set Narrative as Ordered Factor</span>
<span class='no'>Nar.MBSS</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>"Very Poor"</span>, <span class='st'>"Poor"</span>, <span class='st'>"Fair"</span>, <span class='st'>"Good"</span>)
<span class='no'>Metrics.Bugs.Scores.MBSS</span>$<span class='no'>Index_Nar</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/factor.html'>factor</a></span>(<span class='no'>Metrics.Bugs.Scores.MBSS</span>$<span class='no'>Index_Nar</span>
                                            , <span class='kw'>levels</span><span class='kw'>=</span><span class='no'>Nar.MBSS</span>
                                            , <span class='kw'>labels</span><span class='kw'>=</span><span class='no'>Nar.MBSS</span>
                                            , <span class='kw'>ordered</span><span class='kw'>=</span><span class='fl'>TRUE</span>)</div><div class='output co'>#&gt; <span class='error'>Error in factor(Metrics.Bugs.Scores.MBSS$Index_Nar, levels = Nar.MBSS,     labels = Nar.MBSS, ordered = TRUE): object 'Metrics.Bugs.Scores.MBSS' not found</span></div><div class='input'><span class='fu'><a href='https://rdrr.io/r/base/table.html'>table</a></span>(<span class='no'>Metrics.Bugs.Scores.MBSS</span>$<span class='no'>Index</span>, <span class='no'>Metrics.Bugs.Scores.MBSS</span>$<span class='no'>Index_Nar</span>, <span class='kw'>useNA</span><span class='kw'>=</span><span class='st'>"ifany"</span>)</div><div class='output co'>#&gt; <span class='error'>Error in table(Metrics.Bugs.Scores.MBSS$Index, Metrics.Bugs.Scores.MBSS$Index_Nar,     useNA = "ifany"): object 'Metrics.Bugs.Scores.MBSS' not found</span></div><div class='input'>
<span class='co'># QC bug count (manual)</span>
<span class='no'>Metrics.Bugs.Scores.MBSS</span>[<span class='no'>Metrics.Bugs.Scores.MBSS</span>[,<span class='st'>"ni_total"</span>]<span class='kw'>&gt;</span><span class='fl'>120</span>,
<span class='st'>"QC_Count"</span>] <span class='kw'>&lt;-</span> <span class='st'>"LARGE"</span></div><div class='output co'>#&gt; <span class='error'>Error in Metrics.Bugs.Scores.MBSS[Metrics.Bugs.Scores.MBSS[, "ni_total"] &gt;     120, "QC_Count"] &lt;- "LARGE": object 'Metrics.Bugs.Scores.MBSS' not found</span></div><div class='input'><span class='no'>Metrics.Bugs.Scores.MBSS</span>[<span class='no'>Metrics.Bugs.Scores.MBSS</span>[,<span class='st'>"ni_total"</span>]<span class='kw'>&lt;</span><span class='fl'>60</span>,
<span class='st'>"QC_Count"</span>] <span class='kw'>&lt;-</span> <span class='st'>"SMALL"</span></div><div class='output co'>#&gt; <span class='error'>Error in Metrics.Bugs.Scores.MBSS[Metrics.Bugs.Scores.MBSS[, "ni_total"] &lt;     60, "QC_Count"] &lt;- "SMALL": object 'Metrics.Bugs.Scores.MBSS' not found</span></div><div class='input'><span class='no'>Metrics.Bugs.Scores.MBSS</span>[<span class='fu'><a href='https://rdrr.io/r/base/NA.html'>is.na</a></span>(<span class='no'>Metrics.Bugs.Scores.MBSS</span>[,<span class='st'>"QC_Count"</span>]),
<span class='st'>"QC_Count"</span>] <span class='kw'>&lt;-</span> <span class='st'>"OK"</span></div><div class='output co'>#&gt; <span class='error'>Error in Metrics.Bugs.Scores.MBSS[is.na(Metrics.Bugs.Scores.MBSS[, "QC_Count"]),     "QC_Count"] &lt;- "OK": object 'Metrics.Bugs.Scores.MBSS' not found</span></div><div class='input'><span class='co'># table of QC_Count</span>
<span class='fu'><a href='https://rdrr.io/r/base/table.html'>table</a></span>(<span class='no'>Metrics.Bugs.Scores.MBSS</span>$<span class='no'>QC_Count</span>)</div><div class='output co'>#&gt; <span class='error'>Error in table(Metrics.Bugs.Scores.MBSS$QC_Count): object 'Metrics.Bugs.Scores.MBSS' not found</span></div><div class='input'>
<span class='co'># QC bug count (with function)</span>
<span class='co'># Import Checks</span>
<span class='no'>df.checks</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://readxl.tidyverse.org/reference/read_excel.html'>read_excel</a></span>(<span class='fu'><a href='https://rdrr.io/r/base/system.file.html'>system.file</a></span>(<span class='st'>"./extdata/MetricFlags.xlsx"</span>
                                          , <span class='kw'>package</span><span class='kw'>=</span><span class='st'>"BioMonTools"</span>), <span class='kw'>sheet</span><span class='kw'>=</span><span class='st'>"Flags"</span>)
<span class='co'># Run Function</span>
<span class='no'>df.flags</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='qc.checks.html'>qc.checks</a></span>(<span class='no'>Metrics.Bugs.Scores.MBSS</span>, <span class='no'>df.checks</span>)</div><div class='output co'>#&gt; <span class='error'>Error in as.data.frame(df.metrics): object 'Metrics.Bugs.Scores.MBSS' not found</span></div><div class='input'><span class='co'># Summarize Results</span>
<span class='fu'><a href='https://rdrr.io/r/base/table.html'>table</a></span>(<span class='no'>df.flags</span>[,<span class='st'>"CHECKNAME"</span>], <span class='no'>df.flags</span>[,<span class='st'>"FLAG"</span>], <span class='kw'>useNA</span><span class='kw'>=</span><span class='st'>"ifany"</span>)</div><div class='output co'>#&gt; <span class='error'>Error in table(df.flags[, "CHECKNAME"], df.flags[, "FLAG"], useNA = "ifany"): object 'df.flags' not found</span></div><div class='input'>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Erik W. Leppo.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.5.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


