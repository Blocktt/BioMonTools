


<div id="purpose" class="section level3">
<h3>Purpose</h3>
<p>Subsample your abundance data to a fixed count per sample. For example, if 300-organisms is your target, and any of your samples have more than 300 organisms, you can use this function to randomly subsample your data so that the total number of individuals is 300. This is done to make richness metrics comparable (since higher numbers of taxa generally occur in samples in which more individuals are counted). The function is based on code from USEPA Corvallis John Van Sickle’s R code for RIVPACS (v1.0, 2005-06-10).</p>
</div>
<div id="instructions" class="section level3">
<h3>Instructions</h3>
<ul>
<li><p>Upload a file under “Load Data”. The status bar will tell you when the upload is complete. Then return to this screen.</p>
<ul>
<li>Required fields: Sample ID, Taxa ID, Count</li>
</ul></li>
<li><p>Enter the desired subsample size (e.g., 300 organisms)</p></li>
<li><p>If desire results to be repeatable enter a ‘seed’ value. Preferably 8 digits or more (e.g., the numbers from a date in the format of yyyymmdd).</p></li>
<li><p>Click the ‘Run Function’ button; a status bar will appear in the lower right corner.</p></li>
<li><p>After the function is done running, the ‘Download Results’ button will be active. Click this button to retrieve your results.</p></li>
<li><p>Save the file in the desired folder. There will be two output files (in comma-delimited format):</p>
<ul>
<li><p>A file with subsample results only (three columns: Sample ID and updated TaxaID and Count fields, subsampled to the desired number of organisms)</p></li>
<li><p>A file showing original vs. subsampled results (four columns: SampleID, TaxaID, original counts, subsampled counts) – see example below.</p></li>
</ul></li>
</ul>
<div class="figure">
<img src="data:image/png;base64,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" alt />
<p class="caption">Example Subsample</p>
</div>
</div>
<div id="additional-notes" class="section level3">
<h3>Additional Notes</h3>
<p>Right now the function is set up to provide random but repeatable results (meaning if you run the same input file through more than once, you will get the same result each time). If you are skilled with R, you could download the R package from GitHub (<a href="https://github.com/leppott/BioMonTools" class="uri">https://github.com/leppott/BioMonTools</a>) and customize the code. You could also adjust the upper limit on the number of organisms that trigger subsampling (for example, set it up so that the R code only subsamples when samples have over 20% of the target number of total individuals).</p>
<p><em>Last updated 2022-01-12</em></p>
</div>
